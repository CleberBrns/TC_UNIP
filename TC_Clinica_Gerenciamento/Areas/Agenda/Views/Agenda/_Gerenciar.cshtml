@model TCC_Unip.Models.Servico.Agenda

@{
    var listPacientes = (IList<TCC_Unip.Models.Servico.Paciente>)ViewBag.ListPacientes;
    var listProfissionais = (IList<TCC_Unip.Models.Servico.Funcionario>)ViewBag.ListProfissionais;
    var listHorarios = (IList<TCC_Unip.Models.Local.DataSelectControl>)ViewBag.ListHorarios;
    var listModalidades = (IList<TCC_Unip.Models.Local.DataSelectControl>)ViewBag.ListModalidades;

    var user = Session[TCC_Unip.Constants.ConstSessions.usuario] as
        TCC_Unip.Models.Servico.Usuario;
}

@if (user != null)
{
    @using (Html.BeginForm())
    {
        <div class="form-horizontal">
            <input type="hidden" name="Id" id="Id" value=@Model.Id>
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="campos" style="padding: 2% 0 2% 5%">
                <div class="form-group">
                    <div class="form-group">
                        <div>
                            @Html.Label("Paciente", htmlAttributes: new { @class = "control-label col-md-3" })
                        </div>
                        <div class="col-md-8">
                            <select class="form-control" id="paciente" name="Paciente" style="width: 42%">
                                <option value="0">-- Selecione --</option>
                                @foreach (var item in listPacientes)
                                {
                                    if (Model.Paciente.Cpf == item.Cpf)
                                    {
                                        <option value="@item.Cpf" selected="selected">@item.Nome</option>
                                    }
                                    else
                                    {
                                        <option value="@item.Cpf">@item.Nome</option>
                                    }
                                }
                            </select>
                            <span class="field-validation-valid text-danger" id="validaPaciente" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            @Html.Label("Profissional", htmlAttributes: new { @class = "control-label col-md-3" })
                        </div>
                        <div class="col-md-8">
                            <select class="form-control" id="profissional" name="Profissional" style="width: 42%">
                                <option value="0">-- Selecione --</option>
                                @foreach (var item in listProfissionais)
                                {
                                    if (Model.Funcionario.Cpf == item.Cpf)
                                    {
                                        <option value="@item.Cpf" selected="selected">@item.Nome</option>
                                    }
                                    else
                                    {
                                        <option value="@item.Cpf">@item.Nome</option>
                                    }
                                }
                            </select>
                            <span class="field-validation-valid text-danger" id="validaProfissional" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            @Html.Label("Modalidade", htmlAttributes: new { @class = "control-label col-md-3" })
                        </div>
                        <div class="col-md-8">
                            <select class="form-control" id="modalidades" name="Modalidades" style="width: 42%">
                                <option value="0">-- Selecione --</option>
                                @foreach (var item in listModalidades)
                                {                                    
                                    <option value="@item.Value">@item.Name</option>                                    
                                }
                            </select>
                            <span class="field-validation-valid text-danger" id="validaProfissional" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.Label("Data", htmlAttributes: new { @class = "control-label col-md-3" })
                        <div class="col-md-8">
                            <input type="text" class="form-control" id="email" name="Data" value="@Model.Data" />
                            <span class="field-validation-valid text-danger" id="validaData" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div>
                            @Html.Label("Horário", htmlAttributes: new { @class = "control-label col-md-3" })
                        </div>
                        <div class="col-md-8">
                            <select class="form-control" id="horario" name="Horario" style="width: 42%">
                                <option value="0">-- Selecione --</option>
                                @foreach (var item in listHorarios)
                                {
                                    if (Model.Horario == item.Value)
                                    {
                                        <option value="@item.Value" selected="selected">@item.Name</option>
                                    }
                                    else
                                    {
                                        <option value="@item.Value">@item.Name</option>
                                    }
                                }
                            </select>
                            <span class="field-validation-valid text-danger" id="validaPaciente" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.Label("Valor", htmlAttributes: new { @class = "control-label col-md-3" })
                        <div class="col-md-8">
                            <input type="text" class="form-control" id="content" name="Valor" value="@Model.Valor" />
                            <span class="field-validation-valid text-danger" id="validaValor" data-valmsg-replace="true"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
}
